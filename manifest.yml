---
applications:
- name: funding-service-design-application-store-dev
  memory: 256M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: scripts/run_migrations_paas.py && flask run --host 0.0.0.0 --port 8080
  env:
    FLASK_ENV: dev
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-dev.apps.internal:8080
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-dev.london.cloudapps.digital
    FUND_STORE_API_HOST: https://funding-service-design-fund-store-dev.london.cloudapps.digital
    # Sentry DSN is OK to be public see: https://docs.sentry.io/product/sentry-basics/dsn-explainer/#dsn-utilization
    SENTRY_DSN: https://03a44153f57249e9b49f0e27ea4b2c00@o1432034.ingest.sentry.io/4503918840971264
    GITHUB_SHA: ((GITHUB_SHA))
  health-check-http-endpoint: /healthcheck
  health-check-type: http
  services:
    - application-store-dev-db

- name: funding-service-design-application-store-test
  memory: 256M
  buildpacks:
  - https://github.com/cloudfoundry/python-buildpack.git
  command: scripts/run_migrations_paas.py && flask run --host 0.0.0.0 --port 8080
  env:
    FLASK_ENV: test
    NOTIFICATION_SERVICE_HOST: http://funding-service-design-notification-test.apps.internal:8080
    ACCOUNT_STORE_API_HOST: https://funding-service-design-account-store-test.london.cloudapps.digital
    FUND_STORE_API_HOST: https://funding-service-design-fund-store-test.london.cloudapps.digital
    # Sentry DSN is OK to be public see: https://docs.sentry.io/product/sentry-basics/dsn-explainer/#dsn-utilization
    SENTRY_DSN: https://03a44153f57249e9b49f0e27ea4b2c00@o1432034.ingest.sentry.io/4503918840971264
    GITHUB_SHA: ((GITHUB_SHA))
  health-check-http-endpoint: /healthcheck
  health-check-type: http
  services:
    - application-store-test-db
